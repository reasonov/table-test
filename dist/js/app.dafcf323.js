(function(t){function e(e){for(var n,s,o=e[0],u=e[1],l=e[2],p=0,d=[];p<o.length;p++)s=o[p],Object.prototype.hasOwnProperty.call(i,s)&&i[s]&&d.push(i[s][0]),i[s]=0;for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(t[n]=u[n]);c&&c(e);while(d.length)d.shift()();return r.push.apply(r,l||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],n=!0,o=1;o<a.length;o++){var u=a[o];0!==i[u]&&(n=!1)}n&&(r.splice(e--,1),t=s(s.s=a[0]))}return t}var n={},i={app:0},r=[];function s(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=t,s.c=n,s.d=function(t,e,a){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(a,n,function(e){return t[e]}.bind(null,n));return a},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/table-test/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],u=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var c=u;r.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"00c1":function(t,e,a){},"1f7a":function(t,e,a){},5106:function(t,e,a){"use strict";a("00c1")},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app"},[a("app-header"),a("app-content")],1)},r=[],s={name:"App"},o=s,u=a("2877"),l=Object(u["a"])(o,i,r,!1,null,null,null),c=l.exports,p=a("1da1"),d=a("5530"),m=a("53ca"),f=a("3835"),h=(a("96cf"),a("159b"),a("4fad"),a("2f62")),v=a("bc3a"),b=a.n(v),_=b.a.create({baseURL:""}),g=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _.request({method:"get",url:"/api/v1/payments",params:t})},y={instance:_,getPayments:g},C=(a("d3b7"),function(t){return new Promise((function(t){setTimeout((function(){t({data:[{id:1,name:"Bob Lee",money:1e3,date:"2020-02-24"},{id:2,name:"John Seek",money:1999.99,date:"2020-02-25"},{id:3,name:"Harry Smith",money:3000.5,date:"2020-02-26"},{id:4,name:"Alex Morphy",money:4e3,date:"2020-02-27"},{id:5,name:"Ben Gold",money:5e3,date:"2020-02-28"},{id:6,name:"Tim Black",money:1e4,date:"2020-02-28"},{id:7,name:"Jimmy Elephant",money:1e6,date:"2020-02-30"}]})}),1500)}))});n["a"].use(h["a"]);var j=new h["a"].Store({state:function(){return{data:[],isLoading:!1,isCached:!1}},mutations:{setState:function(t,e){Object.entries(e).forEach((function(e){var a=Object(f["a"])(e,2),n=a[0],i=a[1];!Array.isArray(t[n])&&t[n]&&"object"===Object(m["a"])(t[n])?t[n]=Object(d["a"])(Object(d["a"])({},t[n]),i):t[n]=i}))},setData:function(t,e){var a=[];e.forEach((function(e){t.data.push(e),a.push(e)})),localStorage.setItem("data",JSON.stringify(a)),console.log("data updated")},cachedCheck:function(t){localStorage.getItem("data")?t.isCached=!0:t.isCached=!1}},actions:{load:function(t){var e=arguments;return Object(p["a"])(regeneratorRuntime.mark((function a(){var n,i,r,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=t.commit,i=e.length>1&&void 0!==e[1]?e[1]:{},n("setState",{isLoading:!0}),a.prev=3,a.next=6,y.getPayments(i);case 6:r=a.sent,s=r.data,Array.isArray(s)&&n("setState",{data:s}),a.next=14;break;case 11:a.prev=11,a.t0=a["catch"](3),alert(null===a.t0||void 0===a.t0?void 0:a.t0.message);case 14:return a.prev=14,n("setState",{isLoading:!1}),a.finish(14);case 17:case"end":return a.stop()}}),a,null,[[3,11,14,17]])})))()},takeData:function(t){return Object(p["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=t.commit;try{C().then((function(t){a("setData",t.data)}))}catch(n){console.log(n)}finally{console.log("asd")}case 2:case"end":return e.stop()}}),e)})))()}}}),x=function(){var t,e=this,a=e.$createElement,n=e._self._c||a;return n("div",{staticClass:"ui-alert",class:(t={},t["ui-alert_"+e.type]=e.type,t)},[n("h4",{staticClass:"ui-alert__header"},[e._v(" "+e._s(e.header)+" ")]),e._t("default"),e.$scopedSlots.footer?[n("hr"),e._t("footer")]:e._e()],2)},O=[],S={name:"UiAlert",props:{type:String,header:String}},w=S,I=Object(u["a"])(w,x,O,!1,null,null,null),k=I.exports,N=function(){var t,e=this,a=e.$createElement,n=e._self._c||a;return n("button",e._g(e._b({staticClass:"ui-button",class:(t={},t["ui-button_"+e.type]=e.type,t)},"button",e.$attrs,!1),e.$listeners),[e._t("default")],2)},D=[],P={name:"UiButton",props:{type:String}},E=P,$=Object(u["a"])(E,N,D,!1,null,null,null),A=$.exports,F=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("input",{directives:[{name:"model",rawName:"v-model",value:t.valueInput,expression:"valueInput"}],staticClass:"ui-money",attrs:{type:"text"},domProps:{value:t.valueInput},on:{input:[function(e){e.target.composing||(t.valueInput=e.target.value)},function(e){return t.updateNumber()}]}})},M=[],L=(a("a9e3"),a("1276"),a("ac1f"),a("a15b"),a("a434"),a("d81d"),a("4de4"),a("a630"),a("3ca3"),a("ddb0"),a("caad"),a("2532"),a("5319"),{methods:{justFormat:function(t){var e=t.toLocaleString().split(".");return e[0]=e[0].replace(/\B(?=(\d{3})+(?!\d))/g," "),e.join(".")},replaceComma:function(t){var e=t.split("");return t.includes(",")&&(e[[t.indexOf(",")]]="."),e.join("")}}}),T={name:"UiMoney",mixins:[L],props:{value:{type:Number,require:!0}},data:function(){return{valueInput:""}},methods:{updateNumber:function(){this.deleteSpace(),this.formatValue(),this.replaceComma(),this.deleteNonNumber(),this.deleteFirstSymbol(),this.doubleDots(),this.fixedNumber(),this.emitValue()},formatValue:function(){var t=this.valueInput.split(""),e="";this.deleteSpace(),e=t.join(""),this.valueInput=L.methods.justFormat(e)},deleteSpace:function(){var t=this,e=this.valueInput.split("");e.forEach((function(a){" "===a&&e.splice(t.valueInput.indexOf(a),1)})),this.valueInput=e.join("")},replaceComma:function(){this.valueInput=L.methods.replaceComma(this.valueInput)},deleteNonNumber:function(){var t=this,e=this.valueInput.split("");e.forEach((function(a){Number(a)||"."===a||" "===a||"0"===a||(e.splice(t.valueInput.indexOf(a),1),t.valueInput=e.join(""))}))},deleteFirstSymbol:function(){var t=this.valueInput.split("");Number(t[0])&&0!==Number(t[0])||(t.splice(0,1),this.valueInput=t.join(""))},doubleDots:function(){var t=this.valueInput.split(""),e=0;if(t.forEach((function(t){"."===t&&(e+=1)})),e>1){var a=Array.from(t.entries()).filter((function(t){return"."===t[1]})).map((function(t){return t[0]}));function n(t){return Math.max.apply(null,t)}var i=n(a);t.splice(i,1),this.valueInput=t.join("")}},fixedNumber:function(){if(this.valueInput.includes(".")){var t=this.valueInput.split(".");if(t[1].length>2){var e=t[1].split("");e.pop(),this.valueInput=t[0]+"."+e.join("")}}},emitValue:function(){var t=this.valueInput.split(""),e=this.valueInput;t.forEach((function(a){" "===a&&(t.splice(e.indexOf(a),1),e=t.join(""))})),""===e?(e=null,this.$emit("input",e)):this.$emit("input",Number(e))}},watch:{valueInput:function(){this.updateNumber()}}},q=T,J=Object(u["a"])(q,F,M,!1,null,null,null),U=J.exports,B=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.show?a("div",{staticClass:"ui-pagination"},t._l(t.items,(function(e){return a("a",{key:e.label,staticClass:"ui-pagination__item",class:{"ui-pagination__item_disabled":e.disabled},on:{click:function(a){return t.goto(e.to)}}},[t._v(" "+t._s(e.label)+" ")])})),0):t._e()},R=[],z=a("2909"),V=(a("99af"),{name:"UiPagination",props:{value:{type:Number,required:!0},pages:{type:Number,required:!0}},computed:{show:function(){return this.pages>1},isFirst:function(){return 1===this.value},isLast:function(){return this.value===this.pages},items:function(){var t=this;return[{label:"«",disabled:this.isFirst,to:1}].concat(Object(z["a"])(Object(z["a"])(Array(this.pages)).map((function(e,a){return{label:a+1,disabled:a+1===t.value,to:a+1}}))),[{label:"»",disabled:this.isLast,to:this.pages}])}},methods:{goto:function(t){t!==this.value&&this.$emit("input",t)}}}),H=V,G=Object(u["a"])(H,B,R,!1,null,null,null),Y=G.exports,K=function(t,e){var a=e._c;return a("div",{staticClass:"ui-spinner"})},Q=[],W={name:"UiSpinner"},X=W,Z=Object(u["a"])(X,K,Q,!0,null,null,null),tt=Z.exports;n["a"].component("ui-alert",k),n["a"].component("ui-button",A),n["a"].component("ui-money",U),n["a"].component("ui-pagination",Y),n["a"].component("ui-spinner",tt);var et=function(t,e){e._c;return e._m(0)},at=[function(t,e){var a=e._c;return a("header",{staticClass:"app-header app-header_dark"},[a("h4",{staticClass:"app-header__inner container"},[e._v(" Test ")])])}],nt={name:"AppHeader"},it=nt,rt=Object(u["a"])(it,et,at,!0,null,null,null),st=rt.exports,ot=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("main",{staticClass:"container mt-md-5"},[t.isLoading?a("ui-spinner"):[t.isCached?a("ui-alert",{attrs:{type:"success",header:"Data was cached!"},scopedSlots:t._u([{key:"default",fn:function(){return[a("p",[t._v("You can clear cache and load data again.")])]},proxy:!0},{key:"footer",fn:function(){return[a("ui-button",{attrs:{type:"primary"},on:{click:t.updateData}},[t._v(" Clear cache ")])]},proxy:!0}],null,!1,3376599632)}):t._e(),a("data-table",{attrs:{rows:t.currentData,columns:t.columns}})]],2)},ut=[],lt={name:"AppContent",data:function(){return{columns:[{label:"ID",prop:"id",width:"15%"},{label:"Date",prop:"date",width:"20%"},{label:"Name",prop:"name",width:"30%"},{label:"Money",prop:"money",width:"35%"}]}},computed:Object(d["a"])(Object(d["a"])({},Object(h["d"])(["isLoading","isCached","data"])),{},{currentData:function(){return localStorage.getItem("data")?JSON.parse(localStorage.getItem("data")):this.data}}),created:function(){this.load(),this.takeData(),this.cachedCheck()},methods:Object(d["a"])(Object(d["a"])(Object(d["a"])({},Object(h["b"])(["load","takeData"])),Object(h["c"])(["cachedCheck"])),{},{updateData:function(){this.takeData()}})},ct=lt,pt=Object(u["a"])(ct,ot,ut,!1,null,null,null),dt=pt.exports,mt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"data-table"},[a("div",{staticClass:"data-table__filter"},[a("ui-money",{model:{value:t.moneyFilter,callback:function(e){t.moneyFilter=e},expression:"moneyFilter"}})],1),a("div",{staticClass:"table"},[t._m(0),t._l(t.filteredPage,(function(e,n){return a("div",{key:n,staticClass:"table__main"},[a("div",{staticClass:"table__item table__item1"},[a("p",{staticClass:"item__text"},[t._v(t._s(e.id))])]),a("div",{staticClass:"table__item table__item2"},[a("p",{staticClass:"item__text"},[t._v(t._s(t.filterDate(e.date)))])]),a("div",{staticClass:"table__item table__item3"},[a("p",{staticClass:"item__text"},[t._v(t._s(e.name))])]),a("div",{staticClass:"table__item table__item4"},[a("p",{staticClass:"item__text"},[t._v(t._s(t.filteredMoney(e.money)))])])])}))],2),a("div",{staticClass:"data-table__paginator"},[a("ui-pagination",{attrs:{pages:t.pageCount},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}})],1)])},ft=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"table__header"},[a("div",{staticClass:"header__item"},[a("p",{staticClass:"header__text"},[t._v("ID")])]),a("div",{staticClass:"header__item"},[a("p",{staticClass:"header__text"},[t._v("Date")])]),a("div",{staticClass:"header__item"},[a("p",{staticClass:"header__text"},[t._v("Name")])]),a("div",{staticClass:"header__item"},[a("p",{staticClass:"header__text"},[t._v("Money")])])])}],ht={name:"DataTable",components:{uiPagination:Y},mixins:[L],props:{rows:{type:Array,required:!0},columns:{type:Array,required:!0}},data:function(){return{page:1,pageSize:4,moneyFilter:0,tableData:[]}},computed:{pageCount:function(){return Math.ceil(this.rows.length/this.pageSize)},paginationPage:function(){var t=this,e=[];return this.rows.forEach((function(a,n){n<=t.page*t.pageSize-1&&n>=(t.page-1)*t.pageSize&&e.push(a)})),e},filteredPage:function(){var t=this;return this.paginationPage.filter((function(e){return Number(e.money)>=Number(t.moneyFilter)}))}},methods:{filterDate:function(t){for(var e=t.split("-",t.length-1),a=t,n=0;n<e.length-1;n+=1)a=a.replace("-",".");return a},filteredMoney:function(t){var e=L.methods.replaceComma(String(t));return L.methods.justFormat(e)}}},vt=ht,bt=(a("5106"),Object(u["a"])(vt,mt,ft,!1,null,"ff926ea8",null)),_t=bt.exports;n["a"].component("app-header",st),n["a"].component("app-content",dt),n["a"].component("data-table",_t);a("1f7a");n["a"].config.productionTip=!1,new n["a"]({store:j,render:function(t){return t(c)}}).$mount("#app")}});
//# sourceMappingURL=app.dafcf323.js.map